# 卫星执行器
## 组件：行为树解析器；命令节点驱动器；命令执行与系统适配器。
- 行为树解析器:接收来自命令规划器生成的单星行为树,解析其节点类型、执行顺序、条件节点等内容,为后续执行做准备。
- 命令节点驱动器:根据行为树结构,依序触发命令节点执行(顺序、条件)。
- 命令状态管理器:为每个节点维护状态机(未开始/就绪/执行中/成功/失败/阻塞),记录执行过程状态信息。
- 命令约束评估器:在命令执行前,对节点所要求的前置条件进行检查,例如前置任务状态、资源可用性、时间窗、事件触发条件等;若不满足则推迟执行或标记阻塞。
- 变量状态管理器:维护命令执行过程中产生的变量,包括局部变量、全局变量及中间产出;支持读写、作用域管理以及向后续节点传递相关数据。
- 命令执行与系统适配器:提供统一命令抽象接口,调用底层星载设备控制与通信接口(如姿控、载荷、通信链路等),完成具体动作执行并将结果反馈至状态与变量管理模块中。

## 目标：
- 设计统一的命令执行框架:构建一个面向多星任务的统一命令执行框架,实现行为树驱动下的任务分解、命令调度与底层系统适配。框架需支持多类型命令(调姿、拍照、通信、计算等)的抽象表达与统一接口调用,保证命令执行流程的标准化、可扩展性和跨平台适配能力。
- 设计命令状态管理方法:建立细粒度的命令状态管理机制,为每个命令节点维护完整的生命周期状态(未开始、就绪、执行中、成功、失败、阻塞等),支持状态实时更新、查询与回溯。状态管理方法需支持多任务并发、异常处理与状态同步,确保任务执行过程的透明性和可控性。
- 设计命令约束状态管理方法:开发命令约束状态管理模块,对每个命令节点的前置条件、资源需求、时间窗、依赖关系等约束进行动态评估与监控。方法需支持约束冲突检测、约束状态查询、异常约束处理与日志记录,保障命令执行的合法性、安全性和高效性。
- 设计变量状态管理方法:构建统一的变量状态管理体系,支持全局变量、局部变量及中间产出的初始化、读写、作用域隔离与生命周期管理。方法需支持变量快照、状态回溯、异常监控与数据追踪,确保任务执行过程中变量状态的一致性、正确性和可追溯性。